{% extends 'base.html' %} {% block content %}

<body>
<h3 class="text-center">Recipes</h3>
<div class="container">
<div class = "row row-margin">
<div class="col">
<form class="form-inline my-2 my-lg-0" method="POST" action= "{{ url_for('search', recipe_id=query) }}">
      <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="query" name="query">
      <button class="btn my-2 my-sm-0" type="submit" value="search" name="search"><i class="fas fa-search"></i></button>
    </form>
</div>
</div>
 <div class="row row-cols-3" id="mobile">
  {% for recipe in recipes %}
  <div class="col mb-4">
      <div class="card h-100">
        <a href="{{url_for('show_recipe', recipe_id = recipe._id)}}">
        <img src="{{recipe.url_image}}" class="card-img-top" alt="{{recipe.url_image}}"/>
        </a>
        <div class="card-body">
          <h5 class="card-title">{{recipe.recipe_name}}</h5>
          <p class="card-text">{{recipe.recipe_description}}</p>
          <span class="edit_span"
            ><a href="{{url_for('edit_recipe', recipe_id = recipe._id)}}"
              ><i class="fas fa-edit"></i><small class="text-muted">EDIT</small></a
          ></span>
        </div>
        <div class="card-footer">
        {% if recipe.added_on %} 
            <small class="text-muted">Recently Added: {{recipe.added_on}}</small>
        {% else %}
          <small class="text-muted">Last Updated: {{recipe.last_update}}</small>
        {% endif %}
        </div>
      </div>

    </div>
    {% endfor %}
  </div>
</div>
</body>

{% endblock %}
